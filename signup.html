<!DOCTYPE html>
<html lang="en" style="background: #f0f6ff">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
    <title>Create Account</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/styles.min.css" />
  </head>
  <body>
    <div style="width: 100%; background: #f0f6ff">
      <img src="assets/img/MAIN%20LOGO%201.png" style="width: 67px; margin: 23px" />
      <section class="register-photo">
        <div class="form-container">
          <div class="image-holder"></div>
          <form id="signupForm" method="post" onsubmit="return validateForm()">
            <h2 class="text-center" style="color: #800020">
              <strong>Create</strong> an account.
            </h2>
            <div class="mb-3">
              <span id="ErrorMsg" class="errMsg" style="color: var(--bs-red)"></span>
              <input class="form-control" type="text" id="username" name="user-name" placeholder="Create your username" />
            </div>
            <div class="mb-3">
              <span id="ErrorMsg-1" class="errMsg" style="color: var(--bs-red)"></span>
              <input class="form-control" type="email" id="email" name="email" placeholder="Email" />
            </div>
            <div class="mb-3">
              <input class="form-control" type="password" id="password" name="password" placeholder="Password" />
            </div>
            <div class="mb-3">
              <input class="form-control" type="password" id="password-repeat" name="password-repeat" placeholder="Password (repeat)" />
            </div>
            <div class="mb-3">
              <div class="form-check">
                <label class="form-check-label">
                  <input class="form-check-input" type="checkbox" id="agree" />I agree to the license terms.
                </label><a href="license.html">read license</a>
              </div>
            </div>
            <div class="mb-3">
              <button class="btn btn-primary d-block w-100" type="submit" style="background: #800020; color: rgb(255, 255, 255)">
                Sign Up
              </button>
            </div>
            <a class="already" href="#">You already have an account? Login here.</a>
          </form>
        </div>
      </section>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JavaScript Validation Script -->
    <script>
      function validateForm() {
        // Clear any previous error messages
        document.getElementById("ErrorMsg").innerHTML = "";

        // Get form values
        const username = document.getElementById("username").value.trim();
        const email = document.getElementById("email").value.trim();
        const password = document.getElementById("password").value.trim();
        const passwordRepeat = document.getElementById("password-repeat").value.trim();
        const agree = document.getElementById("agree").checked;

        // Email regex pattern to check valid email format
        const emailPattern = /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/;

        // Validate username
        if (username === "") {
          document.getElementById("ErrorMsg").innerHTML = "Username is required.";
          return false; // Prevent form submission
        }

        // Validate email
        if (email === "" || !emailPattern.test(email)) {
          document.getElementById("ErrorMsg").innerHTML = "Please enter a valid email.";
          return false; // Prevent form submission
        }

        // Validate password
        if (password.length < 6) {
          document.getElementById("ErrorMsg").innerHTML = "Password must be at least 6 characters long.";
          return false; // Prevent form submission
        }

        // Validate password repeat
        if (password !== passwordRepeat) {
          document.getElementById("ErrorMsg").innerHTML = "Passwords do not match.";
          return false; // Prevent form submission
        }

        // Validate agreement checkbox
        if (!agree) {
          document.getElementById("ErrorMsg").innerHTML = "You must agree to the license terms.";
          return false; // Prevent form submission
        }

        // If all validation passes, allow form submission
        return true;
      }
    </script>
  </body>
</html>
